{% load markdownify %}

{% for project in projects %}
    <div class="p-2 my-3 rounded-lg linked-comment">
        {% if project.url %}
            <a class="text-decoration-none" target="_blank" href="{{ project.url }}">
                {% if project.title %}{{ project.title | as_string | markdown | safe | striptags }}{% else %}Untitled{% endif %}
                {% include 'website/fragments/bootstrap-icon.html' with icon="arrow-up-right-circle" %}
            </a>
        {% else %}
            Untitled
        {% endif %}
        <div class="small">
            {% if project.annotation %}
                <strong>Annotation:</strong> {{ project.annotation | stringformat:"s" | markdown | safe | striptags }}
            {% endif %}
            {% for praxis in project.praxis.all %}
                <span class="badge bg-dark"><a class="text-white text-decoration-none" href="{% url 'workshop:frontmatter' slug=praxis.workshop.slug %}">{{ praxis.workshop }}</a></span>
            {% endfor %}
            {% for frontmatter in project.frontmatters.all %}
                <span class="badge bg-dark"><a class="text-white text-decoration-none" href="{% url 'workshop:frontmatter' slug=frontmatter.workshop.slug %}">{{ frontmatter.workshop }}</a></span>
            {% endfor %}
        </div>
    </div>
{% endfor %}